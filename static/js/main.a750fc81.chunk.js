(this["webpackJsonpdogs-react"]=this["webpackJsonpdogs-react"]||[]).push([[0],{51:function(e,t,n){var r={"./arrow-down.svg":52,"./close.svg":53,"./heart-solid.svg":54,"./heart.svg":55,"./menu.svg":56};function c(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=s,e.exports=c,c.id=51},52:function(e,t,n){"use strict";n.r(t);var r=n(13),c=n.n(r),s=n(14),a=n.n(s),o=new c.a({id:"arrow-down",use:"arrow-down-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="arrow-down"><path d="M4.219 10.781L2.78 12.22l12.5 12.5.719.687.719-.687 12.5-12.5-1.438-1.438L16 22.562z" /></symbol>'});a.a.add(o);t.default=o},53:function(e,t,n){"use strict";n.r(t);var r=n(13),c=n.n(r),s=n(14),a=n.n(s),o=new c.a({id:"close",use:"close-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="close"><path d="M7.219 5.781L5.78 7.22 14.563 16 5.78 24.781 7.22 26.22 16 17.437l8.781 8.782 1.438-1.438L17.437 16l8.782-8.781L24.78 5.78 16 14.563z" /></symbol>'});a.a.add(o);t.default=o},54:function(e,t,n){"use strict";n.r(t);var r=n(13),c=n.n(r),s=n(14),a=n.n(s),o=new c.a({id:"heart-solid",use:"heart-solid-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="heart-solid"><path d="M22.5 5c-2.892 0-5.327 1.804-6.5 2.854C14.827 6.804 12.392 5 9.5 5 5.364 5 2 8.364 2 12.5c0 2.59 2.365 4.947 2.46 5.041L16 29.081l11.534-11.534C27.635 17.447 30 15.09 30 12.5 30 8.364 26.636 5 22.5 5z" /></symbol>'});a.a.add(o);t.default=o},55:function(e,t,n){"use strict";n.r(t);var r=n(13),c=n.n(r),s=n(14),a=n.n(s),o=new c.a({id:"heart",use:"heart-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="heart"><path d="M9.5 5C5.363 5 2 8.402 2 12.5c0 1.43.648 2.668 1.25 3.563a9.25 9.25 0 001.219 1.468L15.28 28.375l.719.719.719-.719L27.53 17.531S30 15.355 30 12.5C30 8.402 26.637 5 22.5 5c-3.434 0-5.645 2.066-6.5 2.938C15.145 7.066 12.934 5 9.5 5zm0 2c2.988 0 5.75 2.906 5.75 2.906l.75.844.75-.844S19.512 7 22.5 7c3.043 0 5.5 2.496 5.5 5.5 0 1.543-1.875 3.625-1.875 3.625L16 26.25 5.875 16.125s-.484-.465-.969-1.188C4.422 14.216 4 13.274 4 12.5 4 9.496 6.457 7 9.5 7z" /></symbol>'});a.a.add(o);t.default=o},56:function(e,t,n){"use strict";n.r(t);var r=n(13),c=n.n(r),s=n(14),a=n.n(s),o=new c.a({id:"menu",use:"menu-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="menu"><path d="M4 7v2h24V7zm0 8v2h24v-2zm0 8v2h24v-2z" /></symbol>'});a.a.add(o);t.default=o},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"SET_ALL_BREEDS_LIST",(function(){return N})),n.d(r,"SET_RANDOM_DOGS_LIST",(function(){return B})),n.d(r,"SET_MORE_RANDOM_DOGS_LIST",(function(){return R})),n.d(r,"SET_FAVORITES",(function(){return k})),n.d(r,"SET_IS_RANDOM_DOGS_ACTION",(function(){return A})),n.d(r,"SET_BREED_DOGS_LIST",(function(){return I})),n.d(r,"SET_MORE_BREED_DOGS_LIST",(function(){return C})),n.d(r,"SET_IS_BREED_DOGS_ACTION",(function(){return M}));var c=n(3),s=n.n(c),a=n(6),o=n(1),i=n(0),u=n(21),d=n.n(u),l=n(5),b=n(12),f=n(4),v=n(16),m=n(15),p=n.n(m);function j(e,t){e.__clickOutside__&&(window.removeEventListener("click",e.__clickOutside__),e.__clickOutside__=null);var n=function(n){e.contains(n.target)||e===n.target||t(n)};window.addEventListener("click",n),e.__clickOutside__=n}var g=function(e){var t=e.option,n=e.updateCurrent;return Object(o.jsx)("button",{onClick:function(){n(t)},className:"ui-select-option",children:t})};function O(e){var t=e.current,n=void 0===t?"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435":t,r=e.options,c=void 0===r?[]:r,s=e.updateCurrent,a=void 0===s?function(){}:s,u=e.Arrow,d=void 0===u?null:u,l=Object(i.useRef)(null),b=l.current,f=Object(i.useState)(!1),m=Object(v.a)(f,2),p=m[0],O=m[1],h=c.filter((function(e){return e!==n})),w=function(e){O(!1),a(e)};return b&&!b.__clickOutside__&&j(b,(function(){return O(!1)})),Object(o.jsxs)("div",{ref:l,className:"ui-select",children:[Object(o.jsxs)("button",{onClick:function(){O(!p)},className:"ui-select-current ".concat(p?"active":""),children:[Object(o.jsx)("span",{className:"ui-select-value",children:n}),d?Object(o.jsx)("span",{className:"ui-select-arrow",children:Object(o.jsx)(d,{})}):null]}),p?Object(o.jsx)("div",{className:"ui-select-wrap",children:h.map((function(e,t){return Object(o.jsx)(g,{option:e,updateCurrent:w},"option-".concat(t))}))}):null]})}function h(e){var t=e.name,r=e.title,c=function(){try{var e=n(51)("./".concat(t,".svg"));return Object.prototype.hasOwnProperty.call(e,"default")?(e=e.default,"#".concat(e.id)):"#"}catch(r){return"#"}}();return Object(o.jsxs)("svg",{className:"ui-icon ui-icon--".concat(t),xmlns:"http://www.w3.org/2000/svg",children:[r?Object(o.jsx)("title",{children:r}):null,Object(o.jsx)("use",{xlinkHref:c,xmlnsXlink:"http://www.w3.org/1999/xlink"})]})}var w=Object(l.b)((function(e){return{allBreedsList:e.allBreedsList}}))((function(e){var t=e.allBreedsList,n=(e.dispatch,Object(f.g)()),r=Object(f.h)({path:"/b/:bread",strict:!0,sensitive:!0}),c=p.a.get(r,"params.bread","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),s=Object(i.useState)(c),a=Object(v.a)(s,2),u=a[0],d=a[1];Object(i.useEffect)((function(){d(c)}),[c]);return Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)(b.b,{to:"/",className:"logo",children:Object(o.jsx)("img",{src:"/dogs-react/img/logo.png",alt:"dogs-vue",className:"logo-img"})}),Object(o.jsxs)("nav",{className:"nav",children:[Object(o.jsx)(b.b,{to:"/",className:"ui-button",children:"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u0441\u043e\u0431\u0430\u0447\u043a\u0438"}),Object(o.jsx)(O,{updateCurrent:function(e){n.push("/b/".concat(e))},options:t,current:u,Arrow:function(){return Object(o.jsx)(h,{name:"arrow-down"})}}),Object(o.jsx)(b.b,{to:"/favorites",className:"ui-button",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]})]})})),x=n(40);function _(e){var t=e.children;return Object(o.jsx)("div",{className:"ui-gallery",children:t})}function S(e){return"string"===typeof e}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(S(e)){var n=new Image;return n.src=e,n.style.display="none",document.body.appendChild(n),new Promise((function(e){n.onload=function(){e(this.src),document.body.removeChild(n)},n.onerror=function(){e(t),document.body.removeChild(n)}}))}return Promise.resolve(t)}var D=new RegExp("^(?:[a-z]+:)?//","i"),E="/dogs-react/img/no-image.jpg";function T(e){var t=e.format,n=void 0===t?"4x3":t,r=e.alt,c=void 0===r?"dog":r,u=e.src,d=void 0===u?"":u,l=e.onLoad,b=void 0===l?function(){}:l,f=Object(i.useState)(E),m=Object(v.a)(f,2),p=m[0],j=m[1];return Object(i.useEffect)((function(){Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D.test(d)){e.next=8;break}return e.next=3,L(d,E);case 3:t=e.sent,j(t),b(t),e.next=9;break;case 8:j(d);case 9:case"end":return e.stop()}}),e)})))()}),[d,b]),Object(o.jsx)("picture",{className:"ui-picture ui-picture-format--".concat(n),children:Object(o.jsx)("img",{src:p,alt:c,className:"ui-picture--img"})})}function y(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.src,c=void 0===r?"":r,s=e.active,a=void 0!==s&&s;return Object(o.jsxs)("div",{onClick:n,className:"card",children:[Object(o.jsx)(T,{src:c}),Object(o.jsx)("i",{className:"card-icon",children:a?Object(o.jsx)(h,{name:"heart-solid"}):Object(o.jsx)(h,{name:"heart"})})]})}var N="SET_ALL_BREEDS_LIST",B="SET_RANDOM_DOGS_LIST",R="SET_MORE_RANDOM_DOGS_LIST",k="SET_FAVORITES",A="SET_IS_RANDOM_DOGS_ACTION",I="SET_BREED_DOGS_LIST",C="SET_MORE_BREED_DOGS_LIST",M="SET_IS_BREED_DOGS_ACTION",G=Object.entries(r).reduce((function(e,t){var n=Object(v.a)(t,2),r=n[0],c=n[1];return e[r]=function(e){return{type:c,payload:e}},e}),{});function P(e){if(window.__onScroll__){var t=window.__onScroll__,n=t.handler,r=t.option;window.removeEventListener("scroll",n,r),window.__onScroll__=null,delete window.__onScroll__}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=!1;return function(){n||(e.apply(this,arguments),n=!0,setTimeout((function(){n=!1}),t))}}(e,100),s={passive:!0};window.addEventListener("scroll",c,s),window.__onScroll__={handler:c,option:s}}var z={get:function(e){return JSON.parse(localStorage.getItem(e)||"false")},set:function(e,t){localStorage.setItem(e,JSON.stringify(t))},remove:function(e){localStorage.removeItem(e)},clear:function(){localStorage.clear()}},F=Object(l.b)((function(e){return{favorites:e.favorites}}))((function(e){var t=e.onScroll,n=void 0===t?function(){}:t,r=e.className,c=void 0===r?"":r,s=e.images,a=void 0===s?[]:s,u=e.favorites,d=e.dispatch;return Object(i.useEffect)((function(){P(n)}),[n]),Object(o.jsx)("div",{className:"".concat(c," container-fluid py-3"),children:Object(o.jsx)(_,{children:a.map((function(e,t){return Object(o.jsx)(y,{onClick:function(){return function(e){var t=[];t=u.includes(e)?u.filter((function(t){return t!==e})):[].concat(Object(x.a)(u),[e]),d(G[k](t)),z.set("favorites",t)}(e)},src:e,active:u.includes(e)},"dog-".concat(t))}))})})})),H=Object(l.b)((function(e){return{randomDogsList:e.randomDogsList,isRandomDogsAction:e.isRandomDogsAction}}))((function(e){var t=e.randomDogsList,n=e.isRandomDogsAction,r=Object(l.c)().$api;Object(i.useEffect)((function(){r.getRandomDogsList()}),[r]);var c=function(){var e=Object(a.a)(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(.95,t=(window.scrollY||document.documentElement.scrollTop)+window.innerHeight,c=.95*document.documentElement.offsetHeight,!(t>=c)||n){e.next=6;break}return e.next=6,r.getMoreRandomDogsList();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsx)(F,{onScroll:c,images:t,className:"view-home"})})),$=Object(l.b)((function(e){return{favorites:e.favorites}}))((function(e){var t=e.favorites;return t&&t.length?Object(o.jsx)(F,{images:t,className:"view-favorites"}):Object(o.jsxs)("p",{className:"pa-3 ma-0",children:["\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0443\u0441\u0442, \u043d\u0430 ",Object(o.jsx)(b.b,{to:"/",children:"\u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})})),J=Object(l.b)((function(e){return{breedDogsList:e.breedDogsList,isBreedDogsAction:e.isBreedDogsAction}}))((function(e){var t=e.breedDogsList,n=e.isBreedDogsAction,r=Object(l.c)().$api,c=Object(f.h)({path:"/b/:bread",strict:!0,sensitive:!0}),u=p.a.get(c,"params.bread",!1);Object(i.useEffect)((function(){r.getBreedRandomDogsList(u)}),[r,u]);var d=function(){var e=Object(a.a)(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(.95,t=(window.scrollY||document.documentElement.scrollTop)+window.innerHeight,c=.95*document.documentElement.offsetHeight,!(t>=c)||n){e.next=6;break}return e.next=6,r.getMoreBreedRandomDogsList(u);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsx)(F,{onScroll:d,images:t,className:"view-breed"})})),U=function(){return Object(o.jsxs)("p",{className:"pa-3 ma-0",children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442, \u043d\u0430 ",Object(o.jsx)(b.b,{to:"/",children:"\u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})};function V(){return Object(o.jsx)(b.a,{children:Object(o.jsxs)("div",{className:"__app__",children:[Object(o.jsx)(w,{}),Object(o.jsxs)(f.d,{children:[Object(o.jsx)(f.b,{exact:!0,path:"/",children:Object(o.jsx)(H,{})}),Object(o.jsx)(f.b,{path:"/b/:bread",children:Object(o.jsx)(J,{})}),Object(o.jsx)(f.a,{from:"/b",to:"/"}),Object(o.jsx)(f.b,{path:"/favorites",children:Object(o.jsx)($,{})}),Object(o.jsx)(f.b,{path:"*",children:Object(o.jsx)(U,{})})]})]})})}var Y=n(23),X={allBreedsList:[],randomDogsList:[],breedDogsList:[],favorites:[],isRandomDogsAction:!1,isBreedDogsAction:!1};var q=n(39),K=n.n(q).a.create({baseURL:"https://dog.ceo/api"}),Q=function(e){return{getAllBreedsList:function(){return Object(a.a)(s.a.mark((function t(){var n,r,c,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=z.get("allBreedsList"))){t.next=6;break}return e.dispatch(G[N](n)),t.abrupt("return",Promise.resolve(n));case 6:return t.prev=6,t.next=9,K({url:"/breeds/list/all",method:"GET"});case 9:return r=t.sent,c=r.data,a=Object.keys(p.a.get(c,"message",[])),z.set("allBreedsList",a),e.dispatch(G[N](a)),t.abrupt("return",Promise.resolve(a));case 17:return t.prev=17,t.t0=t.catch(6),t.abrupt("return",Promise.reject(t.t0));case 20:case"end":return t.stop()}}),t,null,[[6,17]])})))()},getRandomDogsList:function(){return Object(a.a)(s.a.mark((function t(){var n,r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K({url:"/breeds/image/random/20",method:"GET"});case 3:return n=t.sent,r=n.data,c=p.a.get(r,"message",[]),e.dispatch(G[B](c)),t.abrupt("return",Promise.resolve(c));case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getMoreRandomDogsList:function(){return Object(a.a)(s.a.mark((function t(){var n,r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dispatch(G[A](!0)),t.prev=1,t.next=4,K({url:"/breeds/image/random/20",method:"GET"});case 4:return n=t.sent,r=n.data,c=p.a.get(r,"message",[]),e.dispatch(G[R](c)),t.abrupt("return",Promise.resolve(c));case 11:return t.prev=11,t.t0=t.catch(1),t.abrupt("return",Promise.reject(t.t0));case 14:return t.prev=14,e.dispatch(G[A](!1)),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))()},getBreedRandomDogsList:function(t){return Object(a.a)(s.a.mark((function n(){var r,c,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,K({url:"/breed/".concat(t,"/images/random/20"),method:"GET"});case 3:return r=n.sent,c=r.data,a=p.a.get(c,"message",[]),e.dispatch(G[I](a)),n.abrupt("return",Promise.resolve(a));case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",Promise.reject(n.t0));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},getMoreBreedRandomDogsList:function(t){return Object(a.a)(s.a.mark((function n(){var r,c,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.dispatch(G[M](!0)),n.prev=1,n.next=4,K({url:"/breed/".concat(t,"/images/random/20"),method:"GET"});case 4:return r=n.sent,c=r.data,a=p.a.get(c,"message",[]),e.dispatch(G[C](a)),n.abrupt("return",Promise.resolve(a));case 11:return n.prev=11,n.t0=n.catch(1),n.abrupt("return",Promise.reject(n.t0));case 14:return n.prev=14,e.dispatch(G[M](!1)),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])})))()},getFavorites:function(){var t=z.get("favorites")||[];e.dispatch(G[k](t))}}},W=Object(Y.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object.assign({},e,{allBreedsList:t.payload});case B:return Object.assign({},e,{randomDogsList:t.payload});case R:return Object.assign({},e,{randomDogsList:e.randomDogsList.concat(t.payload)});case k:return Object.assign({},e,{favorites:t.payload});case A:return Object.assign({},e,{isRandomDogsAction:t.payload});case I:return Object.assign({},e,{breedDogsList:t.payload});case C:return Object.assign({},e,{breedDogsList:e.breedDogsList.concat(t.payload)});case M:return Object.assign({},e,{isBreedDogsAction:t.payload});default:return e}})),Z=Object.assign({},W,{$api:Q(W)});n(76);Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z.$api.getFavorites(),e.prev=1,e.next=4,Z.$api.getAllBreedsList();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))(),d.a.render(Object(o.jsx)(l.a,{store:Z,children:Object(o.jsx)(V,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.a750fc81.chunk.js.map